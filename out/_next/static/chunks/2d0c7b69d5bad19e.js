(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53553,e=>{"use strict";e.s(["CatsSeenContext",()=>l,"DislikeCats",()=>o,"LikeCats",()=>i,"default",()=>u],53553);var t=e.i(14705),s=e.i(91163);function r({image:e}){let[r,n]=(0,s.useContext)(l),[c,a]=(0,s.useContext)(i),[u,x]=(0,s.useContext)(o),d=(0,s.useRef)(null),h=(0,s.useRef)(null);return e?(0,t.jsx)("div",{onTouchStart:e=>{d.current=e.touches[0].clientX},onTouchMove:e=>{h.current=e.touches[0].clientX},onTouchEnd:()=>{if(!d.current||!h.current)return;let t=d.current-h.current;Math.abs(t)>50&&(t>0?x([...u,e]):a([...c,e]),n(r+1)),d.current=null,h.current=null},className:"select-none",children:(0,t.jsx)("img",{className:"w-[500px] h-[500px] object-contain",src:e})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("img",{className:"w-[500px] h-[500px] object-contain"}),(0,t.jsx)("span",{children:"Loading cat..."})]})}function n({image:e}){let[r,n]=(0,s.useContext)(l),[c,a]=(0,s.useContext)(i),[u,x]=(0,s.useContext)(o);function d(t){t?a([...c,e]):x([...u,e]),n(r+1)}return(0,t.jsxs)("div",{className:"like-dislike",children:[(0,t.jsx)("button",{className:"mr-5 hover:bg-red-500 p-5 text-4xl border border-solid",onClick:()=>d(!1),children:"Dislike"}),(0,t.jsx)("button",{className:"ml-5 hover:bg-violet-300 p-5 text-4xl border border-solid",onClick:()=>d(!0),children:"Like"})]})}async function c(){try{let e=await fetch("https://cataas.com/cat?json=true");if(e.ok)return(await e.json()).url;throw Error("Failed to fetch cat image")}catch(e){return console.error("Error fetching cat image:",e),null}}let l=(0,s.createContext)(0),i=(0,s.createContext)([]),o=(0,s.createContext)([]);function a(){let[e,r]=(0,s.useContext)(i),[n,c]=(0,s.useContext)(o),l=[];for(let s=0;s<e.length;s++)console.log(e[s]),l.push((0,t.jsx)("img",{className:"w-[500px] h-[500px] object-contain p-5",src:e[s]}));let a=[];for(let e=0;e<n.length;e++)a.push((0,t.jsx)("img",{className:"w-[500px] h-[500px] object-contain p-5",src:n[e]}));return(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("h1",{className:"text-5xl bold",children:"Likes"}),l]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("h1",{className:"text-5xl bold",children:"Dislikes"}),a]})]})}function u(){let[e,u]=(0,s.useState)(null),x=(0,s.useState)(0),[d,h]=x,j=(0,s.useState)([]),m=(0,s.useState)([]);return((0,s.useEffect)(()=>{d<3&&c().then(e=>{u(e)})},[d]),d>=3)?(0,t.jsx)(o.Provider,{value:m,children:(0,t.jsx)(i.Provider,{value:j,children:(0,t.jsx)(a,{})})}):(0,t.jsx)(o.Provider,{value:m,children:(0,t.jsx)(i.Provider,{value:j,children:(0,t.jsxs)(l.Provider,{value:x,children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-5",children:(0,t.jsx)(r,{image:e})}),(0,t.jsx)("div",{className:"flex items-center justify-center mb-5",children:(0,t.jsx)(n,{image:e})})]})})})}}]);